generator client {
    provider        = "prisma-client-js"
    previewFeatures = ["referentialIntegrity"]
}

datasource db {
    provider             = "mysql"
    url                  = env("DATABASE_URL")
    referentialIntegrity = "prisma"
}

model User {
    id          String    @id  @default(uuid())
    email       String    @unique
    credit      Int
    username    String    @unique
    password    String    
    s_key       String     
    picture     String?
    createdAt   DateTime
    Post        Post[]
}

model Post {
    id          String      @id @default(uuid())
    username    String      
    title       String
    description String
    img         String
    createdAt   DateTime
    user        User        @relation(fields: [userId], references: [id])
    userId      String
    Post_comments    Post_comments[]
    @@index([userId])
}

model Post_comments {
    id          String    @id @default(uuid())
    user_id     String    @unique
    username    String    @unique
    createdAt   DateTime
    post        Post      @relation(fields: [post_id], references: [id])
    post_id     String
    @@index([post_id])
}

model Friendship{
    id          String       @id @default(uuid())
    user_id     String 
    users_id    String 
    createdAt   DateTime
}

model Messages{
    id          String       @id @default(uuid())
    message     String
    sender_id   String
    reciver_id  String
    createdAt   DateTime
}

model Chat{
    id          String       @id @default(uuid())
    user_id     String
    friend_id   String
    createdAt   DateTime
}
