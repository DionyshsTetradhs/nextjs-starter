import React, { useEffect, useState, useRef } from "react"

export default function Search() {

  const [visibility, setVisibility] = useState(true);

  // const handleSubmit(e: React.SyntheticEvent){
  //   e.preventDefault();
  //   console.log(e);
  //   
  // }
  
  const handleVisibility = (event: React.MouseEvent<HTMLButtonElement>) => {
    event.preventDefault();

    const button: HTMLButtonElement = event.currentTarget;
    setVisibility(!visibility);
  };
  
  const inputRef = useRef<HTMLInputElement>(null);

  const handleBlur = () => {
    // Code to execute when the input loses focus
    console.log('Input field lost focus');
    setVisibility(!visibility);
    // Additional code or function calls can be placed here
  };
  
  return(
    <>
      {visibility? <><div className="absolute container top-1 mx-0 min-w-full flex flex-col items-center"><button className="absolute zindex-[-10] bg-blue-200 hover:bg-blue-300 text-blue-800 hover:text-white rounded-full p-6 absolute" onClick={handleVisibility}></button> </div></>:

          <div className="absolute container top-1 mx-0 min-w-full flex flex-col items-center">
      <form >
            
        <input className="absolute text-center outline-none bg-gray-100 border border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:outline-none rounded-md w-30 h-12 text-lg" autoFocus id="searchInput" ref={inputRef} onBlur={handleBlur} type="text" placeholder="Search"></input>
        <button type="submit"></button>
        
      </form>
          </div>
      }
      
  </>
  )
}
